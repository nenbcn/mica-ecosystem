; PlatformIO Project Configuration File - MICA Recirculator
; Layered monorepo architecture by: gaesca04 (ingeniero inform√°tico)

[platformio]
default_envs = esp32_c3_recirculator
description = MICA Recirculator - Water pump control with temperature monitoring

[env:esp32_c3_recirculator]
platform = espressif32
board = seeed_xiao_esp32c3
framework = arduino
monitor_speed = 115200

; Source code location
src_dir = src

; PlatformIO automatically finds libraries in:
; - ../../lib/ (workspace root - shared libraries)
; - lib/ (app-local libraries, if any)

; Include paths
build_flags = 
    -D ESP32_C3
    -D CORE_DEBUG_LEVEL=1
    -D CONFIG_LOG_DEFAULT_LEVEL=1
    -D CONFIG_LOG_DEFAULT_LEVEL_WIFI=0
    ; Global configs
    -I../../include
    ; Local app source
    -Isrc

; External dependencies
lib_deps =
    ESP Async WebServer
    EEPROM
    WiFi
    HTTPClient
    Preferences
    knolleary/PubSubClient@^2.8.0
    me-no-dev/AsyncTCP
    bblanchon/ArduinoJson@^6.18.5
    adafruit/Adafruit NeoPixel@^1.11.0
    paulstoffregen/OneWire
    milesburton/DallasTemperature
    Adafruit/Adafruit SSD1306

lib_ignore =
    AsyncTCP_RP2040W

; Board-specific settings
board_build.partitions = default.csv
board_build.flash_mode = dio
upload_speed = 921600
