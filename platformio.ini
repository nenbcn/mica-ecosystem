[platformio]
default_envs = esp32_c3_recirculator
description = MICA IoT Ecosystem - Monorepo

[env:esp32_c3_recirculator]
platform = espressif32
board = seeed_xiao_esp32c3
framework = arduino
monitor_speed = 115200
build_src_filter = +<*>

; Include paths for layered architecture
build_flags = 
    -D ESP32_C3
    -D CORE_DEBUG_LEVEL=1
    -D CONFIG_LOG_DEFAULT_LEVEL=1
    -D CONFIG_LOG_DEFAULT_LEVEL_WIFI=0
    -I src
    -I src/application
    -I src/services
    -I src/drivers

; Libraries
lib_deps =
    ESP Async WebServer
    EEPROM
    WiFi
    HTTPClient
    Preferences
    knolleary/PubSubClient@^2.8.0
    me-no-dev/AsyncTCP
    bblanchon/ArduinoJson@^6.18.5
    adafruit/Adafruit NeoPixel@^1.11.0
    paulstoffregen/OneWire
    milesburton/DallasTemperature
    Adafruit/Adafruit SSD1306

lib_ignore =
    AsyncTCP_RP2040W

; Shared libraries from monorepo
lib_extra_dirs = 
    libs/core
